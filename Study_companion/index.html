<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Sweetheart's Study Companion ğŸŒ¸</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- Loading Screen with Personal Message -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-emoji">ğŸ’–</div>
            <h2>Just for you, my love...</h2>
            <p id="daily-message">Loading your study space...</p>
        </div>
    </div>

    <!-- Secret Message Modal -->
    <div id="secret-modal" class="modal secret-modal">
        <div class="modal-content">
            <div class="modal-header" style="color: #ff6b9d;">
                ğŸ’Œ A Special Message for You
            </div>
            <div class="secret-message-content">
                <div class="secret-heart">ğŸ’•</div>
                <p id="secret-message-text"></p>
                <button class="btn btn-primary" onclick="closeSecretModal()">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Sticky Navigation Bar -->
    <nav class="sticky-nav">
        <div class="nav-content">
            <div class="timer-quick-access" onclick="openTimerModal()">
                â° <span id="quick-timer">25:00</span>
            </div>
            <div class="nav-title">Study Companion</div>
            <div class="hearts-display">
                â¤ï¸ <span id="hearts-count">0</span>
            </div>
        </div>
    </nav>

    <!-- Timer Modal -->
    <div id="timer-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">Study Timer â°</div>

            <div class="saved-timers-section">
                <!-- Saved timers will be rendered here by JavaScript -->
            </div>
            <!-- Timer Inputs -->
            <div class="timer-inputs">
                <div class="form-group">
                    <label>Minutes</label>
                    <input type="number" id="timer-minutes-input" min="1" max="120" value="25">
                </div>
                <div class="form-group">
                    <label>Seconds</label>
                    <input type="number" id="timer-seconds-input" min="0" max="59" value="0">
                </div>
            </div>
            
            <!-- Timer Display -->
            <div class="timer-display">
                <div id="timer-minutes">25</div>
                <div>:</div>
                <div id="timer-seconds">00</div>
            </div>
            
            <div class="timer-mode">
                Current Mode: <span id="current-mode">Focus</span>
            </div>
            
            <div class="timer-actions">
                <button class="btn btn-secondary" onclick="stopTimer()">Stop</button>
                <button class="btn btn-primary" onclick="startTimer()" id="timer-start-btn">Start</button>
                <button class="btn btn-secondary" onclick="resetTimer()">Reset</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">Settings âš™ï¸</div>
            <div class="settings-content">
                <div class="form-group">
                    <label>Your Name</label>
                    <input type="text" id="user-name" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label>Theme Color</label>
                    <div class="theme-selector">
                        <div class="theme-option" data-theme="pink" onclick="selectTheme('pink')">
                            <div class="theme-preview pink-theme"></div>
                            <span>Pink</span>
                        </div>
                        <div class="theme-option" data-theme="lavender" onclick="selectTheme('lavender')">
                            <div class="theme-preview lavender-theme"></div>
                            <span>Lavender</span>
                        </div>
                        <div class="theme-option" data-theme="ocean" onclick="selectTheme('ocean')">
                            <div class="theme-preview ocean-theme"></div>
                            <span>Ocean</span>
                        </div>
                        <div class="theme-option" data-theme="sunset" onclick="selectTheme('sunset')">
                            <div class="theme-preview sunset-theme"></div>
                            <span>Sunset</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Study Sounds</label>
                    <select id="study-sounds">
                        <option value="none">None</option>
                        <option value="rain">Spotify ka na lang muna beh ğŸŒ§ï¸</option>
                        <option value="coffee">Much better pag spotify â˜•</option>
                        <option value="lofi">HAHAHAHAH ğŸµ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Daily Goal</label>
                    <input type="number" id="daily-goal" min="1" max="10" value="3" placeholder="Tasks per day">
                </div>
                <div class="settings-actions">
                    <button class="btn btn-primary" onclick="saveSettings()">Save</button>
                    <button class="btn btn-secondary" onclick="closeSettings()">Cancel</button>
                </div>
                <div class="secret-section">
                    <button class="btn secret-btn" onclick="showSecretMessage()">ğŸ’– Special Message</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="header-top">
                <h1 id="app-title">ğŸŒ¸ Study Well my Wifey!!  ğŸŒ¸</h1>
                <button class="settings-btn" onclick="openSettings()">âš™ï¸</button>
            </div>
            <div class="welcome-message" id="welcome-message">
                Good morning, beautiful! Ready to study? âœ¨
            </div>
            <div class="streak-display">
                <div class="streak-item">
                    ğŸ”¥ Streak: <span id="current-streak">0</span>
                </div>
                <div class="streak-item">
                    â­ Best: <span id="best-streak">0</span>
                </div>
                <div class="streak-item">
                    ğŸ¯ Today: <span id="today-progress">0/3</span>
                </div>
            </div>
        </header>

        <!-- Quick Add Task -->
        <div class="quick-add">
            <input type="text" id="quick-task-input" placeholder="Add a quick task...">
            <button class="quick-add-btn" onclick="addQuickTask()">+</button>
        </div>

        <div class="tabs">
            <button class="tab active" data-view="tasks">Tasks ğŸ“</button>
            <button class="tab" data-view="schedule">Schedule ğŸ“…</button>
            <button class="tab" data-view="flashcards">Flashcards ğŸ´</button>
            <button class="tab" data-view="rewards">Rewards ğŸ</button>
            <button class="tab" data-view="stats">Stats ğŸ“Š</button>
            
        </div>

        <div id="tasks-view" class="view active">
            <button class="add-task-btn" onclick="openTaskModal()">+ Add Detailed Task</button>
            <div id="tasks-container"></div>
        </div>

        <div id="schedule-view" class="view">
            <div class="section-title">ğŸ“… Monthly Calendar</div>
            <div class="calendar-navigation">
                <button class="nav-btn prev-month" onclick="changeMonth(-1)">â—€</button>
                <div id="current-month-year" class="month-year-display"></div>
                <button class="nav-btn next-month" onclick="changeMonth(1)">â–¶</button>
            </div>
            <div id="monthly-calendar"></div>
        </div>

        <div id="flashcards-view" class="view">
            <div class="section-title">ğŸ´ Flashcard Decks</div>
            <button class="add-task-btn" onclick="openDeckModal()">+ Create New Deck</button>
            <div id="decks-container"></div>
        </div>

        <div id="rewards-view" class="view">
            <div class="section-title">Unlock Cute Rewards! ğŸ’–</div>
            <div class="rewards-grid" id="rewards-container"></div>
            <div class="real-rewards-section">
                <div class="section-title">Special Rewards from Me ğŸ’•</div>
                <div class="rewards-grid" id="real-rewards-container"></div>
            </div>
        </div>

        <div id="stats-view" class="view">
            <div class="section-title">Your Study Statistics ğŸ“Š</div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-emoji">ğŸ“š</div>
                    <div class="stat-value" id="total-tasks">0</div>
                    <div class="stat-label">Total Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-emoji">âœ…</div>
                    <div class="stat-value" id="completed-tasks">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-emoji">â±ï¸</div>
                    <div class="stat-value" id="study-time">0h</div>
                    <div class="stat-label">Study Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-emoji">ğŸ¯</div>
                    <div class="stat-value" id="completion-rate">0%</div>
                    <div class="stat-label">Success Rate</div>
                </div>
            </div>
            <div class="encouragement-section">
                <div class="section-title">Today's Affirmation âœ¨</div>
                <div class="affirmation-card" id="daily-affirmation">
                    You are capable of amazing things! ğŸŒŸ
                </div>
            </div>
            <div class="subject-breakdown">
                <div class="section-title">Study Breakdown</div>
                <div id="subject-chart"></div>
            </div>
        </div>
    </div>

    <div id="task-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" id="modal-title">Add New Task</div>
            <form id="task-form">
                <div class="form-group">
                    <label>Task Name</label>
                    <input type="text" id="task-name" required placeholder="What do you need to do?">
                </div>
                <div class="form-group">
                    <label>Subject</label>
                    <div class="subject-selector">
                        <select id="task-subject" required>
                            <option value="">Select subject...</option>
                            <option value="Math">Math ğŸ“</option>
                            <option value="Science">Science ğŸ”¬</option>
                            <option value="History">AP ğŸ“œ</option>
                            <option value="Language">English ğŸ—£ï¸</option>
                            <option value="Art">MAPEH ğŸ¨</option>
                            <option value="Other">Other ğŸ“</option>
                        </select>
                        <button type="button" class="add-subject-btn" onclick="showAddSubject()">+ Add New</button>
                    </div>
                    <div id="add-subject-input" style="display: none; margin-top: 10px;">
                        <input type="text" id="new-subject" placeholder="Enter new subject name">
                        <button type="button" class="btn btn-primary" onclick="addNewSubject()" style="margin-top: 5px;">Add Subject</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Due Date</label>
                    <input type="date" id="task-due" required>
                </div>
                <div class="form-group">
                    <label>Reminder Time (Optional)</label>
                    <input type="datetime-local" id="task-reminder">
                </div>
                <div class="form-group">
                    <label>Priority</label>
                    <div class="priority-group">
                        <div class="priority-btn" data-priority="low" onclick="selectPriority('low')">ğŸŒŸ </div>
                        <div class="priority-btn" data-priority="medium" onclick="selectPriority('medium')">ğŸŒŸğŸŒŸ </div>
                        <div class="priority-btn" data-priority="high" onclick="selectPriority('high')">ğŸŒŸğŸŒŸğŸŒŸ </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeTaskModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="color: #ff6b9d;">âš ï¸ Delete Task</div>
            <div class="delete-message-content">
                <div class="delete-emoji">ğŸ¥º</div>
                <p id="delete-message-text">Are you sure you want to delete this task?</p>
                <p class="delete-task-name" id="delete-task-name"></p>
                <div class="delete-modal-actions">
                    <button class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
                    <button class="btn btn-delete" onclick="confirmDelete()">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Deck Modal -->
<div id="deck-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header" id="deck-modal-title">Create New Deck</div>
        <form id="deck-form">
            <div class="form-group">
                <label>Deck Name</label>
                <input type="text" id="deck-name" required placeholder="e.g., Spanish Vocabulary, Math Formulas">
            </div>
            <div class="form-group">
                <label>Subject</label>
                <div class="subject-selector">
                    <select id="deck-subject" required>
                        <option value="">Select subject...</option>
                        <option value="Math">Math ğŸ“</option>
                        <option value="Science">Science ğŸ”¬</option>
                        <option value="History">AP ğŸ“œ</option>
                        <option value="Language">English ğŸ—£ï¸</option>
                        <option value="Art">MAPEH ğŸ¨</option>
                        <option value="Other">Other ğŸ“</option>
                    </select>
                    <button type="button" class="add-subject-btn deck-add-subject-btn" onclick="showAddSubjectForDeck()">+ Add New</button>
                </div>
                <div id="deck-add-subject-input" style="display: none; margin-top: 10px;">
                    <input type="text" id="deck-new-subject" placeholder="Enter new subject name">
                    <button type="button" class="btn btn-primary" onclick="addNewSubjectForDeck()" style="margin-top: 5px;">Add Subject</button>
                </div>
            </div>
            <div class="form-group">
                <label>Description (Optional)</label>
                <textarea id="deck-description" rows="3" placeholder="What's this deck about?"></textarea>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeDeckModal()">Cancel</button>
                <button type="submit" class="btn btn-primary">Create Deck</button>
            </div>
        </form>
    </div>
</div>

    <!-- Card Modal -->
    <div id="card-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" id="card-modal-title">Add Flashcard</div>
            <form id="card-form">
                <div class="form-group">
                    <label>Front (Question/Term)</label>
                    <textarea id="card-front" required rows="3" placeholder="Enter the question or term"></textarea>
                </div>
                <div class="form-group">
                    <label>Back (Answer/Definition)</label>
                    <textarea id="card-back" required rows="3" placeholder="Enter the answer or definition"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeCardModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Card</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Study Modal -->
    <div id="study-modal" class="modal">
        <div class="modal-content study-modal-content">
            <div class="study-header">
                <div class="study-deck-name" id="study-deck-name"></div>
                <div class="study-progress">
                    <span id="current-card-number">1</span> / <span id="total-cards">0</span>
                </div>
            </div>
            <div class="flashcard-container">
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="card-label">Question</div>
                            <div class="card-content" id="card-front-content"></div>
                        </div>
                        <div class="flashcard-back">
                            <div class="card-label">Answer</div>
                            <div class="card-content" id="card-back-content"></div>
                        </div>
                    </div>
                </div>
                <div class="flip-hint">Tap to flip</div>
            </div>
            <div class="study-actions">
                <button class="btn btn-secondary" onclick="previousCard()">â† Previous</button>
                <button class="btn btn-secondary" onclick="shuffleCards()">ğŸ”€ Shuffle</button>
                <button class="btn btn-secondary" onclick="nextCard()">Next â†’</button>
            </div>
            <div class="study-knowledge-buttons">
                <button class="knowledge-btn wrong" onclick="markCard('wrong')">âŒ Don't Know</button>
                <button class="knowledge-btn correct" onclick="markCard('correct')">âœ… Know It!</button>
            </div>
            <button class="btn btn-primary" onclick="closeStudyModal()" style="margin-top: 15px; width: 100%;">Finish Studying</button>
        </div>
    </div>

    <!-- Delete Deck Confirmation Modal -->
    <div id="delete-deck-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="color: #ff6b9d;">âš ï¸ Delete Deck</div>
            <div class="delete-message-content">
                <div class="delete-emoji">ğŸ¥º</div>
                <p id="delete-deck-message-text">Are you sure you want to delete this deck and all its cards?</p>
                <p class="delete-task-name" id="delete-deck-name"></p>
                <div class="delete-modal-actions">
                    <button class="btn btn-secondary" onclick="closeDeleteDeckModal()">Cancel</button>
                    <button class="btn btn-delete" onclick="confirmDeleteDeck()">Delete Deck</button>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Background Music -->
    <audio id="background-music" loop>
        <!-- Audio will be handled by JavaScript -->
    </audio>

    <script src="script.js"></script>
</body>
</html>
